/** @license sf2synth.js 2013 - imaya / GREE Inc. [ https://github.com/gree/sf2synth.js ] The MIT License */(function() {'use strict';var k=this;function l(g,e){var b=g.split("."),a=k;b[0]in a||!a.execScript||a.execScript("var "+b[0]);for(var d;b.length&&(d=b.shift());)b.length||void 0===e?a=a[d]?a[d]:a[d]={}:a[d]=e};function m(g,e){e=e||{};this.input=g;this.b=e.index||0;this.length=e.length||g.length-this.b;this.offset=this.b;this.padding=void 0!==e.padding?e.padding:!0;this.g=void 0!==e.bigEndian?e.bigEndian:!1}function n(g,e,b){this.type=g;this.size=e;this.offset=b}
m.prototype.parse=function(){var g=this.length+this.offset;for(this.a=[];this.b<g;){var e=this.input,b=this.b,a=void 0;this.a.push(new n(String.fromCharCode(e[b++],e[b++],e[b++],e[b++]),a=this.g?(e[b++]<<24|e[b++]<<16|e[b++]<<8|e[b++])>>>0:(e[b++]|e[b++]<<8|e[b++]<<16|e[b++]<<24)>>>0,b));b+=a;this.padding&&1===(b-this.offset&1)&&b++;this.b=b}};function u(g,e){var b=g.a[e];return void 0===b?null:b};function x(g,e){e=e||{};this.input=g;this.h=e.parserOption}
x.prototype.parse=function(){var g,e,b=new m(this.input,this.h);b.parse();if(1!==b.a.length)throw Error("wrong chunk length");b=u(b,0);if(null===b)throw Error("chunk not found");var a=this.input,d=b.offset,c;if("RIFF"!==b.type)throw Error("invalid chunk type:"+b.type);c=String.fromCharCode(a[d++],a[d++],a[d++],a[d++]);if("sfbk"!==c)throw Error("invalid signature:"+c);b=new m(a,{index:d,length:b.size-4});b.parse();if(3!==b.a.length)throw Error("invalid sfbk structure");a=u(b,0);d=this.input;c=a.offset;
var f;if("LIST"!==a.type)throw Error("invalid chunk type:"+a.type);f=String.fromCharCode(d[c++],d[c++],d[c++],d[c++]);if("INFO"!==f)throw Error("invalid signature:"+f);(new m(d,{index:c,length:a.size-4})).parse();a=u(b,1);d=this.input;c=a.offset;if("LIST"!==a.type)throw Error("invalid chunk type:"+a.type);f=String.fromCharCode(d[c++],d[c++],d[c++],d[c++]);if("sdta"!==f)throw Error("invalid signature:"+f);a=new m(d,{index:c,length:a.size-4});a.parse();if(1!==a.a.length)throw Error("TODO");this.f=u(a,
0);b=u(b,2);a=this.input;d=b.offset;if("LIST"!==b.type)throw Error("invalid chunk type:"+b.type);c=String.fromCharCode(a[d++],a[d++],a[d++],a[d++]);if("pdta"!==c)throw Error("invalid signature:"+c);b=new m(a,{index:d,length:b.size-4});b.parse();if(9!==b.a.length)throw Error("invalid pdta chunk");a=u(b,0);d=this.input;c=a.offset;f=[];var h=a.offset+a.size;if("phdr"!==a.type)throw Error("invalid chunk type:"+a.type);for(;c<h;)f.push({A:String.fromCharCode.apply(null,d.subarray(c,c+=20)),t:d[c++]|d[c++]<<
8,i:d[c++]|d[c++]<<8,u:d[c++]|d[c++]<<8,p:(d[c++]|d[c++]<<8|d[c++]<<16|d[c++]<<24)>>>0,k:(d[c++]|d[c++]<<8|d[c++]<<16|d[c++]<<24)>>>0,q:(d[c++]|d[c++]<<8|d[c++]<<16|d[c++]<<24)>>>0});a=u(b,1);d=this.input;c=a.offset;f=[];h=a.offset+a.size;if("pbag"!==a.type)throw Error("invalid chunk type:"+a.type);for(;c<h;)f.push({v:d[c++]|d[c++]<<8,w:d[c++]|d[c++]<<8});a=u(b,2);if("pmod"!==a.type)throw Error("invalid chunk type:"+a.type);y(this,a);a=u(b,3);if("pgen"!==a.type)throw Error("invalid chunk type:"+a.type);
z(this,a);a=u(b,4);d=this.input;c=a.offset;f=[];h=a.offset+a.size;if("inst"!==a.type)throw Error("invalid chunk type:"+a.type);for(;c<h;)f.push({o:String.fromCharCode.apply(null,d.subarray(c,c+=20)),l:d[c++]|d[c++]<<8});a=u(b,5);d=this.input;c=a.offset;f=[];h=a.offset+a.size;if("ibag"!==a.type)throw Error("invalid chunk type:"+a.type);for(;c<h;)f.push({m:d[c++]|d[c++]<<8,n:d[c++]|d[c++]<<8});a=u(b,6);if("imod"!==a.type)throw Error("invalid chunk type:"+a.type);y(this,a);a=u(b,7);if("igen"!==a.type)throw Error("invalid chunk type:"+
a.type);z(this,a);h=u(b,8);b=this.input;a=h.offset;d=[];c=[];f=h.offset+h.size;var p,q,r,A,B,C,D;if("shdr"!==h.type)throw Error("invalid chunk type:"+h.type);for(;a<f;){h=String.fromCharCode.apply(null,b.subarray(a,a+=20));e=(b[a++]<<0|b[a++]<<8|b[a++]<<16|b[a++]<<24)>>>0;g=(b[a++]<<0|b[a++]<<8|b[a++]<<16|b[a++]<<24)>>>0;p=(b[a++]<<0|b[a++]<<8|b[a++]<<16|b[a++]<<24)>>>0;q=(b[a++]<<0|b[a++]<<8|b[a++]<<16|b[a++]<<24)>>>0;r=(b[a++]<<0|b[a++]<<8|b[a++]<<16|b[a++]<<24)>>>0;A=b[a++];B=b[a++]<<24>>24;C=
b[a++]|b[a++]<<8;D=b[a++]|b[a++]<<8;g=new Int16Array((new Uint8Array(b.subarray(this.f.offset+2*e,this.f.offset+2*g))).buffer);p-=e;q-=e;if(0<r){var v=r,t=void 0,s=void 0,E=void 0,w=void 0;for(e=1;22050>v;){t=new Int16Array(2*g.length);s=w=0;for(E=g.length;s<E;++s)t[w++]=g[s],t[w++]=g[s];g=t;e*=2;v*=2}r*=e;p*=e;q*=e}d.push(g);c.push({C:h,F:p,j:q,sampleRate:r,r:A,s:B,B:C,D:D})}this.input=null};
function y(g,e){for(var b=g.input,a=e.offset,d=e.offset+e.size,c,f,h=[];a<d;){a+=2;c=b[a++]|b[a++]<<8;f=F[c];if(void 0===f)h.push({type:f,value:{code:c,c:b[a]|b[a+1]<<8<<16>>16,e:b[a++],d:b[a++]}});else switch(f){case "keyRange":case "velRange":case "keynum":case "velocity":h.push({type:f,value:{e:b[a++],d:b[a++]}});break;default:h.push({type:f,value:{c:b[a++]|b[a++]<<8<<16>>16}})}a+=2;a+=2}}
function z(g,e){for(var b=g.input,a=e.offset,d=e.offset+e.size,c,f,h=[];a<d;)if(c=b[a++]|b[a++]<<8,f=F[c],void 0===f)h.push({type:f,value:{code:c,c:b[a]|b[a+1]<<8<<16>>16,e:b[a++],d:b[a++]}});else switch(f){case "keynum":case "keyRange":case "velRange":case "velocity":h.push({type:f,value:{e:b[a++],d:b[a++]}});break;default:h.push({type:f,value:{c:b[a++]|b[a++]<<8<<16>>16}})}}
var F=["startAddrsOffset","endAddrsOffset","startloopAddrsOffset","endloopAddrsOffset","startAddrsCoarseOffset","modLfoToPitch","vibLfoToPitch","modEnvToPitch","initialFilterFc","initialFilterQ","modLfoToFilterFc","modEnvToFilterFc","endAddrsCoarseOffset","modLfoToVolume",,"chorusEffectsSend","reverbEffectsSend","pan",,,,"delayModLFO","freqModLFO","delayVibLFO","freqVibLFO","delayModEnv","attackModEnv","holdModEnv","decayModEnv","sustainModEnv","releaseModEnv","keynumToModEnvHold","keynumToModEnvDecay",
"delayVolEnv","attackVolEnv","holdVolEnv","decayVolEnv","sustainVolEnv","releaseVolEnv","keynumToVolEnvHold","keynumToVolEnvDecay","instrument",,"keyRange","velRange","startloopAddrsCoarseOffset","keynum","velocity","initialAttenuation",,"endloopAddrsCoarseOffset","coarseTune","fineTune","sampleID","sampleModes",,"scaleTuning","exclusiveClass","overridingRootKey"];var G;if(void 0!==k.AudioContext)G=new k.AudioContext;else if(void 0!==k.webkitAudioContext)G=new k.webkitAudioContext;else if(void 0!==k.mozAudioContext)G=new k.mozAudioContext;else throw Error("Web Audio not supported");void 0===G.createGainNode&&(G.createGainNode=G.createGain);
G.createBuffer(function(g){var e,b=g.length,a=new Uint8Array(b);for(e=0;e<b;++e)a[e]=g.charCodeAt(e);return a}(window.atob("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")).buffer,!1);l("SoundFont.Parser",x);l("SoundFont.Parser.prototype.parse",x.prototype.parse);}).call(this); //@ sourceMappingURL=sf2.parser.min.js.map

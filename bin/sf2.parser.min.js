/** @license sf2synth.js 2013 - imaya / GREE Inc. [ https://github.com/gree/sf2synth.js ] The MIT License */(function() {var k=this;function l(f,e){var b=f.split("."),a=k;b[0]in a||!a.execScript||a.execScript("var "+b[0]);for(var c;b.length&&(c=b.shift());)b.length||void 0===e?a[c]?a=a[c]:a=a[c]={}:a[c]=e};function m(f,e){e=e||{};this.f=f;this.b=e.index||0;this.length=e.length||f.length-this.b;this.offset=this.b;this.g=void 0!==e.padding?e.padding:!0;this.j=void 0!==e.bigEndian?e.bigEndian:!1}function u(f,e,b){this.type=f;this.a=e;this.offset=b}
function w(f){var e=f.length+f.offset;for(f.a=[];f.b<e;){var b=f,a=b.f,c=b.b;b.a.push(new u(String.fromCharCode(a[c++],a[c++],a[c++],a[c++]),a=b.j?(a[c++]<<24|a[c++]<<16|a[c++]<<8|a[c++])>>>0:(a[c++]|a[c++]<<8|a[c++]<<16|a[c++]<<24)>>>0,c));c+=a;b.g&&1===(c-b.offset&1)&&c++;b.b=c}}function x(f,e){var b=f.a[e];return void 0===b?null:b};function y(f,e){e=e||{};this.a=f;this.g=e.parserOption}
y.prototype.f=function(){var f,e,b=new m(this.a,this.g);w(b);if(1!==b.a.length)throw Error("wrong chunk length");b=x(b,0);if(null===b)throw Error("chunk not found");var a=this.a,c=b.offset,d;if("RIFF"!==b.type)throw Error("invalid chunk type:"+b.type);d=String.fromCharCode(a[c++],a[c++],a[c++],a[c++]);if("sfbk"!==d)throw Error("invalid signature:"+d);b=new m(a,{index:c,length:b.a-4});w(b);if(3!==b.a.length)throw Error("invalid sfbk structure");a=x(b,0);c=this.a;d=a.offset;var g;if("LIST"!==a.type)throw Error("invalid chunk type:"+
a.type);g=String.fromCharCode(c[d++],c[d++],c[d++],c[d++]);if("INFO"!==g)throw Error("invalid signature:"+g);w(new m(c,{index:d,length:a.a-4}));a=x(b,1);c=this.a;d=a.offset;if("LIST"!==a.type)throw Error("invalid chunk type:"+a.type);g=String.fromCharCode(c[d++],c[d++],c[d++],c[d++]);if("sdta"!==g)throw Error("invalid signature:"+g);a=new m(c,{index:d,length:a.a-4});w(a);if(1!==a.a.length)throw Error("TODO");this.b=x(a,0);b=x(b,2);a=this.a;c=b.offset;if("LIST"!==b.type)throw Error("invalid chunk type:"+
b.type);d=String.fromCharCode(a[c++],a[c++],a[c++],a[c++]);if("pdta"!==d)throw Error("invalid signature:"+d);b=new m(a,{index:c,length:b.a-4});w(b);if(9!==b.a.length)throw Error("invalid pdta chunk");a=x(b,0);c=this.a;d=a.offset;g=[];var h=a.offset+a.a;if("phdr"!==a.type)throw Error("invalid chunk type:"+a.type);for(;d<h;)g.push({J:String.fromCharCode.apply(null,c.subarray(d,d+=20)),F:c[d++]|c[d++]<<8,l:c[d++]|c[d++]<<8,G:c[d++]|c[d++]<<8,A:(c[d++]|c[d++]<<8|c[d++]<<16|c[d++]<<24)>>>0,o:(c[d++]|c[d++]<<
8|c[d++]<<16|c[d++]<<24)>>>0,B:(c[d++]|c[d++]<<8|c[d++]<<16|c[d++]<<24)>>>0});a=x(b,1);c=this.a;d=a.offset;g=[];h=a.offset+a.a;if("pbag"!==a.type)throw Error("invalid chunk type:"+a.type);for(;d<h;)g.push({H:c[d++]|c[d++]<<8,I:c[d++]|c[d++]<<8});a=x(b,2);if("pmod"!==a.type)throw Error("invalid chunk type:"+a.type);F(this,a);a=x(b,3);if("pgen"!==a.type)throw Error("invalid chunk type:"+a.type);G(this,a);a=x(b,4);c=this.a;d=a.offset;g=[];h=a.offset+a.a;if("inst"!==a.type)throw Error("invalid chunk type:"+
a.type);for(;d<h;)g.push({w:String.fromCharCode.apply(null,c.subarray(d,d+=20)),s:c[d++]|c[d++]<<8});a=x(b,5);c=this.a;d=a.offset;g=[];h=a.offset+a.a;if("ibag"!==a.type)throw Error("invalid chunk type:"+a.type);for(;d<h;)g.push({u:c[d++]|c[d++]<<8,v:c[d++]|c[d++]<<8});a=x(b,6);if("imod"!==a.type)throw Error("invalid chunk type:"+a.type);F(this,a);a=x(b,7);if("igen"!==a.type)throw Error("invalid chunk type:"+a.type);G(this,a);h=x(b,8);b=this.a;a=h.offset;c=[];d=[];g=h.offset+h.a;var q,r,n,z,A,B,C;
if("shdr"!==h.type)throw Error("invalid chunk type:"+h.type);for(;a<g;){h=String.fromCharCode.apply(null,b.subarray(a,a+=20));e=(b[a++]<<0|b[a++]<<8|b[a++]<<16|b[a++]<<24)>>>0;f=(b[a++]<<0|b[a++]<<8|b[a++]<<16|b[a++]<<24)>>>0;q=(b[a++]<<0|b[a++]<<8|b[a++]<<16|b[a++]<<24)>>>0;r=(b[a++]<<0|b[a++]<<8|b[a++]<<16|b[a++]<<24)>>>0;n=(b[a++]<<0|b[a++]<<8|b[a++]<<16|b[a++]<<24)>>>0;z=b[a++];A=b[a++]<<24>>24;B=b[a++]|b[a++]<<8;C=b[a++]|b[a++]<<8;f=new Int16Array((new Uint8Array(b.subarray(this.b.offset+2*e,
this.b.offset+2*f))).buffer);q-=e;r-=e;if(0<n){var D=n,t,p,E,v;for(e=1;22050>D;){t=new Int16Array(2*f.length);p=v=0;for(E=f.length;p<E;++p)t[v++]=f[p],t[v++]=f[p];f=t;e*=2;D*=2}n*=e;q*=e;r*=e}c.push(f);d.push({L:h,N:q,m:r,sampleRate:n,C:z,D:A,K:B,M:C})}this.a=null};
function F(f,e){for(var b=f.a,a=e.offset,c=e.offset+e.a,d,g,h=[];a<c;){a+=2;d=b[a++]|b[a++]<<8;g=H[d];if(void 0===g)h.push({type:g,value:{code:d,c:b[a]|b[a+1]<<8<<16>>16,i:b[a++],h:b[a++]}});else switch(g){case "keyRange":case "velRange":case "keynum":case "velocity":h.push({type:g,value:{i:b[a++],h:b[a++]}});break;default:h.push({type:g,value:{c:b[a++]|b[a++]<<8<<16>>16}})}a+=2;a+=2}}
function G(f,e){for(var b=f.a,a=e.offset,c=e.offset+e.a,d,g,h=[];a<c;)if(d=b[a++]|b[a++]<<8,g=H[d],void 0===g)h.push({type:g,value:{code:d,c:b[a]|b[a+1]<<8<<16>>16,i:b[a++],h:b[a++]}});else switch(g){case "keynum":case "keyRange":case "velRange":case "velocity":h.push({type:g,value:{i:b[a++],h:b[a++]}});break;default:h.push({type:g,value:{c:b[a++]|b[a++]<<8<<16>>16}})}}
var H=["startAddrsOffset","endAddrsOffset","startloopAddrsOffset","endloopAddrsOffset","startAddrsCoarseOffset","modLfoToPitch","vibLfoToPitch","modEnvToPitch","initialFilterFc","initialFilterQ","modLfoToFilterFc","modEnvToFilterFc","endAddrsCoarseOffset","modLfoToVolume",,"chorusEffectsSend","reverbEffectsSend","pan",,,,"delayModLFO","freqModLFO","delayVibLFO","freqVibLFO","delayModEnv","attackModEnv","holdModEnv","decayModEnv","sustainModEnv","releaseModEnv","keynumToModEnvHold","keynumToModEnvDecay",
"delayVolEnv","attackVolEnv","holdVolEnv","decayVolEnv","sustainVolEnv","releaseVolEnv","keynumToVolEnvHold","keynumToVolEnvDecay","instrument",,"keyRange","velRange","startloopAddrsCoarseOffset","keynum","velocity","initialAttenuation",,"endloopAddrsCoarseOffset","coarseTune","fineTune","sampleID","sampleModes",,"scaleTuning","exclusiveClass","overridingRootKey"];l("SoundFont.Parser",y);l("SoundFont.Parser.prototype.parse",y.prototype.f);}).call(this); //# sourceMappingURL=sf2.parser.min.js.map

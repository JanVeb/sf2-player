/** @license reverb.js 2017-2018 - Logue [ https://github.com/logue/sf2synth.js ] The MIT License  */(function() {'use strict';var d,g=this;function k(a,c){a=a.split(".");var b=g;a[0]in b||"undefined"==typeof b.execScript||b.execScript("var "+a[0]);for(var f;a.length&&(f=a.shift());)a.length||void 0===c?b=b[f]&&b[f]!==Object.prototype[f]?b[f]:b[f]={}:b[f]=c};function m(a,c){this.a=a;this.node=this.a.createGain();this.l=this.a.createGain();this.j=this.a.createGain();this.b=this.a.createConvolver();this.f=this.a.createBiquadFilter();this.g=350;this.h=2;this.m=0;this.o="lowpass";this.s=1;this.i=!1;this.u=3;this.b.connect(this.j);this.b.connect(this.l);this.b.connect(this.f);this.j.connect(this.b);this.l.connect(this.b);this.f.connect(this.b);for(var b in c)void 0!==c[b]&&(this["_"+b]=c[b]);this.F(this.s);this.B(this.o);this.v(this.g);this.c()}d=m.prototype;
d.node=function(){this.node.gain.setTargetAtTime(100,this.a.currentTime,.015);return this.b};
d.c=function(){var a=this.a.sampleRate,c=Math.max(a*this.u,1),b=a*this.m;a=this.a.createBuffer(2,c,a);for(var f=new Float32Array(c),l=new Float32Array(c),e=0;e<c;e++){if(e<b)f[e]=0,l[e]=0;else{var h=this.i?c-e:e;h=Math.pow(1-h/c,this.h);f[e]=(2*Math.random()-1)*h;l[e]=(2*Math.random()-1)*h}h=this.i?c-(e-b):e-b;h=Math.pow(1-h/c,this.h);f[e]=(2*Math.random()-1)*h;l[e]=(2*Math.random()-1)*h}a.getChannelData(0).set(f);a.getChannelData(1).set(l);console.info("Update impulse responce.");this.b.buffer=a};
d.connect=function(a){g.console.info("Connect Reverb.");this.b.connect(a.input?a.input:a)};d.disconnect=function(a){g.console.info("Disconnect Reverb.");this.b.disconnect(a)};d.F=function(a){this.s=a;this.j.gain.setTargetAtTime(this.C(a)/127,this.a.currentTime,.015);this.l.gain.setTargetAtTime(this.D(a)/127,this.a.currentTime,.015)};d.time=function(a){this.u=a;this.c()};d.w=function(a){this.h=a;this.c()};d.A=function(a){this.m=a;this.c()};d.reverse=function(a){this.i=a;this.c()};
d.v=function(a){this.g=a;this.f.frequency.setTargetAtTime(this.g,this.a.currentTime,.015)};d.B=function(a){this.f.type=this.o=a};d.C=function(a){return 1<a||0>a?0:.5>=a?1:1-2*(a-.5)};d.D=function(a){return 1<a||0>a?0:.5<=a?1:1-2*(a-.5)};k("SoundFont.Reverb",m);k("SoundFont.Reverb.prototype.connect",m.prototype.connect);k("SoundFont.Reverb.prototype.disconnect",m.prototype.disconnect);k("SoundFont.Reverb.prototype.time",m.prototype.time);k("SoundFont.Reverb.prototype.decay",m.prototype.w);k("SoundFont.Reverb.prototype.delay",m.prototype.A);k("SoundFont.Reverb.prototype.cutOff",m.prototype.v);k("SoundFont.Reverb.prototype.type",m.prototype.type);}).call(this); //# sourceMappingURL=reverb.min.js.map

/** @license reverb.js 2017 - Logue [ https://github.com/logue/sf2synth.js ] The MIT License  */(function() {'use strict';var d,e=this;function f(a,c){a=a.split(".");var b=e;a[0]in b||!b.execScript||b.execScript("var "+a[0]);for(var g;a.length&&(g=a.shift());)a.length||void 0===c?b[g]&&b[g]!==Object.prototype[g]?b=b[g]:b=b[g]={}:b[g]=c};function k(a,c){this.b=a;this.a=c||{};this.f=this.b.createGain();this.m=this.f.a=this.b.createGain();this.o=this.b.createGain();this.l=this.b.createGain();this.u=this.b.createConvolver();this.c=this.b.createBiquadFilter();this.f.connect(this.l);this.f.connect(this.o);this.u.connect(this.c);this.l.connect(this.m);this.o.connect(this.m);this.c.connect(this.f);for(var b in m)this.a[b]=void 0===this.a[b]?m[b]:this.a[b];this.l.gain.value=n(this.a.h);this.o.gain.value=p(this.a.h);this.c.g=this.a.g;this.c.frequency=
this.a.s;this.u.gain=1;q(this);return this.f}var m={s:350,i:2,j:0,g:"lowpass",h:.5,reverse:!1,time:3};function q(a){var c=a.b.sampleRate,b=Math.max(c*a.a.time,1),g=c*a.a.j;c=a.b.createBuffer(2,b,c);var r=new Float32Array(b),t=new Float32Array(b),h;for(h=0;h<b;h++){var l=a.a.reverse?b-(h-g):h-g;l=Math.pow(1-l/b,a.a.i);r[h]=(2*Math.random()-1)*l;t[h]=(2*Math.random()-1)*l}c.getChannelData(0).set(r);c.getChannelData(1).set(t);console.info("Update impulse responce.");a.u.buffer=c}d=k.prototype;
d.v=function(a){e.console.info("Connect Reverb.");this.m.connect(a.input?a.input:a)};d.w=function(a){e.console.info("Disconnect Reverb.");this.m.disconnect(a)};d.h=function(a){this.a.h=a;this.l.gain.value=n(a);this.o.gain.value=p(a)};d.time=function(a){this.a.time=a;q(this)};d.i=function(a){this.a.i=a;q(this)};d.j=function(a){this.a.j=a;q(this)};d.reverse=function(a){a&&(this.a.reverse=a,q(this))};d.s=function(a){this.c.frequency=this.a.filter.frequency=a};
d.g=function(a){this.c.g=this.a.filter.type=a};function n(a){return 1<a||0>a?0:.5>=a?1:1-2*(a-.5)}function p(a){return 1<a||0>a?0:.5<=a?1:1-2*(a-.5)};f("SoundFont.Reverb",k);f("SoundFont.Reverb.prototype.connect",k.prototype.v);f("SoundFont.Reverb.prototype.disconnect",k.prototype.w);f("SoundFont.Reverb.prototype.mix",k.prototype.h);f("SoundFont.Reverb.prototype.time",k.prototype.time);f("SoundFont.Reverb.prototype.decay",k.prototype.i);f("SoundFont.Reverb.prototype.delay",k.prototype.j);f("SoundFont.Reverb.prototype.reverse",k.prototype.reverse);f("SoundFont.Reverb.prototype.cutOff",k.prototype.s);f("SoundFont.Reverb.prototype.filterType",k.prototype.g);}).call(this); //# sourceMappingURL=reverb.min.js.map
